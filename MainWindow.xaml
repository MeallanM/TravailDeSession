<?xml version="1.0" encoding="utf-8"?>
<Window
    x:Class="TravailDeSession.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:TravailDeSession"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Title="TravailDeSession">

    <Window.SystemBackdrop>
        <MicaBackdrop />
    </Window.SystemBackdrop>

    <Grid>

        <Grid.RowDefinitions>
            <RowDefinition Height="auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <MenuBar Grid.Row="0" >
            <MenuBarItem Title="Importer">
                <MenuFlyoutItem Text="Client" Tag="ClientImport" Click="clickMenuBar"/>
                <MenuFlyoutItem Text="Employe" Tag="EmployeImport" Click="clickMenuBar" />
                <MenuFlyoutItem Text="Projet" Tag="ProjetImport" Click="clickMenuBar" />
            </MenuBarItem>
            <MenuBarItem Title="Exporter">
                <MenuFlyoutItem Text="Client" Tag="ClientExport" Click="clickMenuBar"/>
                <MenuFlyoutItem Text="Employe" Tag="EmployeExport" Click="clickMenuBar" />
                <MenuFlyoutItem Text="Projet" Tag="ProjetExport" Click="clickMenuBar" />
            </MenuBarItem>
            <MenuBarItem Title="Autres">
                <MenuFlyoutItem Text="Quitter" Tag="Quitter" Click="clickMenuBar"/>
            </MenuBarItem>
        </MenuBar>

        <Grid x:Name="ToastContainer"
      VerticalAlignment="Top"
      HorizontalAlignment="Center"
      Margin="0,20,0,0"
      Visibility="Collapsed">

            <Border x:Name="ToastMessage"
            Background="#FF333333"
            Padding="14"
            CornerRadius="8"
            Opacity="0.95">

                <StackPanel Orientation="Horizontal" Spacing="10">
                    <TextBlock x:Name="ToastText"
                       Foreground="White"
                       FontSize="14"
                       VerticalAlignment="Center"/>

                    <Button Content="✕"
                    Click="ToastClose_Click"
                    Background="Transparent"
                    Foreground="White"
                    BorderThickness="0"
                    FontSize="14"
                    Padding="0"/>
                </StackPanel>
            </Border>
        </Grid>

        <NavigationView VerticalAlignment="Stretch" PaneDisplayMode="Left" PaneTitle="Gestion de projets" x:Name="navView" ItemInvoked="navView_ItemInvoked" Grid.Row="1">
            <NavigationView.MenuItems>
                <NavigationViewItemHeader Content="Gestion de projets"/>
                <NavigationViewItem Content="Voir les Clients" x:Name="nviShowClients" Icon="View" Tag="AfficherClients"/>
                <NavigationViewItem Content="Voir les Employés" x:Name="nviShowEmployes" Icon="View" Tag="AfficherEmployes"/>
                <NavigationViewItem Content="Voir les Projets" x:Name="nviShowProjets" Icon="View" Tag="AfficherProjets"/>
                <NavigationViewItemSeparator />
            </NavigationView.MenuItems>

            <NavigationView.FooterMenuItems>
                <NavigationViewItem Content="Connexion" x:Name="nviConnection" Icon="Switch" Tag="Connection" />
                <NavigationViewItem Content="Déconnexion" x:Name="nviDeconnection" Icon="Switch" Tag="Deconnection" />
                <NavigationViewItem Content="Aide" x:Name="nviAide" Icon="Help" Tag="aide"/>
            </NavigationView.FooterMenuItems>
            <Frame x:Name="mainFrame" />
        </NavigationView>
    </Grid>
</Window>
